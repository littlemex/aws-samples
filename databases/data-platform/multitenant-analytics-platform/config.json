{
  "project": {
    "name": "multitenant-analytics-platform",
    "description": "Multitenant Analytics Platform with dbt and Zero-ETL",
    "environment": "dev",
    "region": "us-east-1"
  },
  "networking": {
    "vpcName": "multitenant-analytics-vpc",
    "createNewVpc": true,
    "vpcCidr": "10.0.0.0/16"
  },
  "aurora": {
    "clusterName": "multitenant-analytics-aurora",
    "engine": "postgresql",
    "version": "16.4",
    "instanceClass": "t4g.medium",
    "masterUsername": "postgres",
    "databaseName": "multitenant_analytics",
    "multiAz": true,
    "backupRetention": 7,
    "encrypted": true,
    "remote": {
      "host": "${AURORA_ENDPOINT}",
      "port": 5432,
      "database": "multitenant_analytics",
      "username": "${AURORA_USER}",
      "password": "${AURORA_PASSWORD}"
    },
    "local": {
      "host": "localhost",
      "port": 5432,
      "database": "multitenant_analytics",
      "username": "dbt_user",
      "password": "dbt_password"
    },
    "phases": {
      "database": {
        "connection_db": "postgres", 
        "description": "Database creation phase - connects to default postgres DB"
      },
      "schema": {
        "connection_db": "multitenant_analytics",
        "description": "Schema creation phase - connects to target DB"
      },
      "data": {
        "connection_db": "multitenant_analytics",
        "description": "Data insertion phase - connects to target DB"
      },
      "verification": {
        "connection_db": "multitenant_analytics",
        "description": "Verification phase - connects to target DB"
      }
    }
  },
  "redshift": {
    "dbName": "multitenant_analytics",
    "namespace": "multitenant-analytics-ns",
    "workgroup": "multitenant-analytics-wg",
    "baseCapacity": 4,
    "encrypted": true,
    "caseSensitive": true
  },
  "zeroEtl": {
    "integrationName": "multitenant-analytics-integration",
    "dataFilter": "include: multitenant_analytics.tenant_a.users, include: multitenant_analytics.tenant_b.users, include: multitenant_analytics.tenant_c.users",
    "description": "Zero-ETL integration for multitenant analytics"
  },
  "dbt": {
    "enabled": true,
    "profileName": "multitenant_analytics",
    "targetDatabase": "multitenant_analytics",
    "targetSchema": "analytics"
  },
  "bastion": {
    "autoTransfer": {
      "enabled": true,
      "directories": ["sql", "scripts"],
      "files": ["config.json"],
      "excludePatterns": ["*.log", "*.tmp", "target/", "*.pyc", "__pycache__/", ".venv/", "dbt_packages/", "logs/", "node_modules/", "aws-samples-zero-etl/"],
      "compressionLevel": 6
    },
    "phase2": {
      "autoTransfer": {
        "enabled": true,
        "directories": ["sql/aurora"],
        "files": ["config.json", "scripts/aurora-sql-execute.sh"],
        "excludePatterns": ["*.log", "*.tmp", "target/", "*.pyc", "__pycache__/", ".venv/", "dbt_packages/", "logs/"],
        "compressionLevel": 6
      }
    },
    "phase3": {
      "autoTransfer": {
        "enabled": true,
        "directories": ["sql/redshift"],
        "files": ["config.json", "scripts/3-sql-execute.sh", "bastion-redshift-connection.json"],
        "excludePatterns": ["*.log", "*.tmp", "target/", "*.pyc", "__pycache__/", ".venv/", "dbt_packages/", "logs/"],
        "compressionLevel": 6
      }
    },
    "phase4": {
      "autoTransfer": {
        "enabled": true,
        "directories": ["sql/redshift"],
        "files": ["config.json", "scripts/4-sql-execute.sh", "scripts/4-dbt-execute.sh", "scripts/setup-dbt-environment.sh", "bastion-redshift-connection.json"],
        "excludePatterns": ["*.log", "*.tmp", "target/", "*.pyc", "__pycache__/", ".venv/", "dbt_packages/", "logs/", "node_modules/"],
        "compressionLevel": 6
      }
    },
    "workingDirectory": "/tmp/workspace"
  },
  "tags": {
    "Project": "MultitenantAnalyticsPlatform",
    "Environment": "dev",
    "Owner": "data-platform-team",
    "CostCenter": "analytics",
    "Purpose": "MultitenantAnalytics"
  }
}
